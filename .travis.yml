language: python
python:
  - 2.6
  - 2.7
install:
  - "pip install -r testproject/requirements.txt --use-mirrors"
  - "pip install https://github.com/tomchristie/webdriverplus/zipball/master"
before_script:
  - "export DISPLAY=:99.0"
  - "sh -e /etc/init.d/xvfb start"
  - sleep 3 # give xvfb some time to start
  - cd testproject
  - python manage.py syncdb --noinput  # create tables
  - python manage.py loaddata webdriver_tests.json
  - python manage.py runserver 8000 & # start a Web server in the background
  - sleep 3 # give Web server some time to bind to sockets, etc
script:
  - mkdir -p reports
  - python manage.py jenkins
  - cd ../fiber
  - python webdriver_plus_tests.py 127.0.0.1 8000


